INCLUDES = -I$(srcdir)/../services

bin_PROGRAMS = icecc
icecc_SOURCES = main.cpp arg.cpp cpp.cpp filename.cpp io.cpp \
	remote.cpp sendfile.cpp tempfile.cpp util.cpp local.cpp
icecc_LDADD = ../services/libcommon.la

CLEANFILES = icecc++

all-local: icecc++

icecc++: icecc
	-rm -f icecc++
	$(LN_S) icecc icecc++

install-exec-local:
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	for link in icecc++ g++ gcc c++ cc; do \
	  rm -f $(DESTDIR)$(bindir)/$$link ;\
	  $(LN_S) icecc $(DESTDIR)$(bindir)/$$link ;\
	done

uninstall-local:
	for link in icecc++ g++ gcc c++ cc; do \
	  rm $(DESTDIR)$(bindir)/$$link ;\
	done
